<form class="worldbuilder-form">
    <!-- Population Density Dropdown -->
    <div class="form-group">
        <label>Population Density:</label>
        <select class="population-density-select">
            <option value="Wilderness" {{#if (eq populationDensity "Wilderness")}}selected{{/if}}>Wilderness</option>
            <option value="Borderlands" {{#if (eq populationDensity "Borderlands")}}selected{{/if}}>Borderlands</option>
            <option value="Settled" {{#if (eq populationDensity "Settled")}}selected{{/if}}>Settled</option>
        </select>
    </div>

    <!-- Climate Type Dropdown -->
    <div class="form-group">
        <label>Climate Type:</label>
        <select class="climate-select">
            <option value="Cold" {{#if (eq climateType "Cold")}}selected{{/if}}>Cold</option>
            <option value="Temperate" {{#if (eq climateType "Temperate")}}selected{{/if}}>Temperate</option>
            <option value="Warm" {{#if (eq climateType "Warm")}}selected{{/if}}>Warm</option>
        </select>
    </div>

    <!-- Icon Button Table -->
    <table class="icon-button-table">
        <tr>
            <td>
                <button type="button" class="icon-button terrain-roll" title="Roll for Terrain">
                    <i class="fas fa-dice"></i>
                </button>
            </td>
            <td>
                <button type="button" class="icon-button feature-type-roll" title="Roll for Feature Type">
                    <i class="fas fa-map-marker-alt"></i>
                </button>
            </td>
            <td>
                <button type="button" class="icon-button encounter-roll" title="Roll for Encounter">
                    <i class="fas fa-exclamation-triangle"></i>
                </button>
            </td>
        </tr>
        <tr>
            <td>Terrain</td>
            <td>Feature Type</td>
            <td>Encounter</td>
        </tr>
    </table>

    <!-- Terrain Type Selection -->
    <div class="form-group">
        <label>Hex Terrain Type:</label>
        <select class="terrain-select">
            <option value="">-- Select Terrain --</option>
            <option value="Plains" {{#if (eq terrainType "Plains")}}selected{{/if}}>Plains</option>
            <option value="Forest" {{#if (eq terrainType "Forest")}}selected{{/if}}>Forest</option>
            <option value="Hills" {{#if (eq terrainType "Hills")}}selected{{/if}}>Hills</option>
            <option value="Mountains" {{#if (eq terrainType "Mountains")}}selected{{/if}}>Mountains</option>
            <option value="Marsh" {{#if (eq terrainType "Marsh")}}selected{{/if}}>Marsh</option>
            <option value="Water" {{#if (eq terrainType "Water")}}selected{{/if}}>Water</option>
            <option value="Salt Water" {{#if (eq terrainType "Salt Water")}}selected{{/if}}>Salt Water</option>
            <option value="Road" {{#if (eq terrainType "Road")}}selected{{/if}}>Road</option>
            <option value="River Downstream" {{#if (eq terrainType "River Downstream")}}selected{{/if}}>River Downstream</option>
            <option value="River Upstream" {{#if (eq terrainType "River Upstream")}}selected{{/if}}>River Upstream</option>
            <option value="Desert" {{#if (eq terrainType "Desert")}}selected{{/if}}>Desert</option>
            <option value="Thickets" {{#if (eq terrainType "Thickets")}}selected{{/if}}>Thickets</option>
            <option value="Savannah" {{#if (eq terrainType "Savannah")}}selected{{/if}}>Savannah</option>
            <option value="Dunes" {{#if (eq terrainType "Dunes")}}selected{{/if}}>Dunes</option>
            <option value="Rainforest" {{#if (eq terrainType "Rainforest")}}selected{{/if}}>Rainforest</option>
            <option value="Swamp" {{#if (eq terrainType "Swamp")}}selected{{/if}}>Swamp</option>
            <option value="Jungle" {{#if (eq terrainType "Jungle")}}selected{{/if}}>Jungle</option>
            <option value="Tundra" {{#if (eq terrainType "Tundra")}}selected{{/if}}>Tundra</option>
            <option value="Steppe" {{#if (eq terrainType "Steppe")}}selected{{/if}}>Steppe</option>
            <option value="Subterranean" {{#if (eq terrainType "Subterranean")}}selected{{/if}}>Subterranean</option>            
            <option value="Glacier" {{#if (eq terrainType "Glacier")}}selected{{/if}}>Glacier</option>
        </select>
    </div>

        <!-- Feature Type Selection -->
        <div class="form-group">
        <label for="feature-type-select">Select Feature Type:</label>
        <select id="feature-type-select" class="feature-type-select">
            <option value="">-- Random Feature --</option>
            <option value="Ruins & Relics" {{#if (eq selectedFeatureType "Ruins & Relics")}}selected{{/if}}>Ruins & Relics</option>
            <option value="Lurid Lairs" {{#if (eq selectedFeatureType "Lurid Lairs")}}selected{{/if}}>Lurid Lairs</option>
            <option value="Rivers & Roads / Islands" {{#if (eq selectedFeatureType "Rivers & Roads / Islands")}}selected{{/if}}>Rivers & Roads / Islands</option>
            <option value="Castles & Citadels" {{#if (eq selectedFeatureType "Castles & Citadels")}}selected{{/if}}>Castles & Citadels</option>
            <option value="Temples & Shrines" {{#if (eq selectedFeatureType "Temples & Shrines")}}selected{{/if}}>Temples & Shrines</option>
            <option value="Villages & Towns" {{#if (eq selectedFeatureType "Villages & Towns")}}selected{{/if}}>Villages & Towns</option>
        </select>
        </div>


        <!-- Sub-Feature Selection -->
        <div class="form-group">
        <label for="sub-feature-select">Select Sub-Feature:</label>
        <select id="sub-feature-select" class="sub-feature-select" {{#if subFeatureOptions.length}}enabled{{else}}disabled{{/if}}>
            <option value="">-- Select Sub-Feature --</option>
            {{#each subFeatureOptions}}
            <option value="{{this}}" {{#if (eq ../selectedSubFeature this)}}selected{{/if}}>{{this}}</option>
            {{/each}}
        </select>
        </div>





    <!-- Selected Terrain Information Table -->
    <div class="form-group">
        <table class="terrain-info-table">
            <tr><th>Selected Terrain</th><th>Ruggedness</th><th>Travel Time</th><th>Encounter Frequency</th></tr>
            <tr>
                <td>{{terrainType}}</td>
                <td>{{ruggedness}}</td>
                <td>{{travelTime}}</td>
                <td>{{encounterFrequency}}</td>
            </tr>
        </table>
    </div>

    <!-- Encounter Type Result Table -->
    {{#if encounterResult}}
    <div class="form-group">
        <table class="encounter-info-table">
            <tr><th>Encounter Result</th></tr>
            <tr>
                <td>{{{encounterResult}}}</td>
            </tr>
        </table>
    </div>
    {{/if}}

    <!-- Feature Type Result Table -->
{{#if featureType}}
<div class="form-group">
    <table class="feature-info-table">
        <tr><th>Feature Type</th><th>Details</th></tr>
        <tr>
            <td>{{featureType}}</td>
            <td>{{{featureDetails}}}</td>
        </tr>
    </table>
</div>

{{else}}
<div class="form-group">
    <table class="feature-info-table">
        <tr><th>Feature Type</th><th>Details</th></tr>
        <tr>
            <td>No Feature Selected</td>
            <td>Please select a feature type.</td>
        </tr>
    </table>
</div>
{{/if}}



    <!-- Dungeon Features Section -->
    {{#if isDungeon}}
    <div class="dungeon-section">
        <h2 class="section-header">Dungeon Features</h2>
        <button type="button" class="append-dungeon-feature" title="Add Dungeon Feature">
            <i class="fas fa-plus-circle"></i>
        </button>
        <table class="dungeon-features-table">
            {{#each dungeonFeatures}}
                <tr><td>{{this}}</td></tr>
            {{/each}}
        </table>
    </div>
    {{/if}}

    <!-- Cave Features Section -->
    {{#if isCave}}
    <div class="cave-section">
        <h2 class="section-header">Cave Features</h2>
        <button type="button" class="append-cave-feature" title="Add Cave Feature">
            <i class="fas fa-plus-circle"></i>
        </button>
        <table class="cave-features-table">
            {{#each caveFeatures}}
                <tr><td>{{this}}</td></tr>
            {{/each}}
        </table>
    </div>
    {{/if}}

    <!-- Save Button -->
    <button type="button" class="save-entry">Save</button>
    <!-- Create Journal Button -->
    <button type="button" class="create-journal">Create Journal Entry</button>
</form>
